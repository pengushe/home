{"version":3,"sources":["components/FileUpload.js","index.js"],"names":["FileUpload","useState","imageSelect","setImageSelected","hidden","className","type","id","onChange","event","target","files","window","alert","htmlFor","onClick","formData","FormData","append","Axios","post","then","response","App","props","state","cloudName","publicId","width","crop","filterID","bind","changWidth","this","setState","value","preventDefault","aria-label","aria-describedby","React","Component","ReactDom","render","document","getElementById"],"mappings":"uPA8EeA,MArEf,WAAsB,MAEgBC,mBAAS,IAFzB,gCAIoBA,mBAAS,KAJ7B,mBAIbC,EAJa,KAIAC,EAJA,KA+BpB,OACE,gCACE,oBAAIC,QAAM,EAAV,wGACA,sBAAKC,UAAU,cAAf,UACE,sBAAKA,UAAU,cAAf,UACE,uBAAOC,KAAK,OAAOD,UAAU,oBAAoBE,GAAG,2BAClDC,SAAU,SAACC,GACTN,EAAiBM,EAAMC,OAAOC,MAAM,IACpCC,OAAOC,MAAM,6MAGjB,uBAAOR,UAAU,oBAAoBS,QAAQ,2BAA7C,yCAEF,qBAAKT,UAAU,qBAAf,SACE,wBAAQA,UAAU,4BAA4BC,KAAK,SACjDS,QAxCU,WAClB,IAAMC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQhB,GACxBc,EAASE,OAAO,gBAAiB,YACjCC,IAAMC,KACJ,6DACAJ,GACAK,MAAK,SAACC,GAAeV,OAAOC,MAAM,4FAgC9B,2CAKJ,4BCrDAU,G,yDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,MAAQ,CACXC,UAAW,gBACXC,SAAU,SACVC,MAAQ,MACRC,KAAO,SAET,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKC,WAAa,EAAKA,WAAWD,KAAhB,gBATD,E,qDAYVtB,GACPwB,KAAKC,SAAS,CAACP,SAAUlB,EAAMC,OAAOyB,QACtC1B,EAAM2B,mB,iCAEG3B,GACTwB,KAAKC,SAAS,CAACN,MAAOnB,EAAMC,OAAOyB,QACnC1B,EAAM2B,mB,+BAGN,OACE,gCACE,cAAC,EAAD,IACA,sBAAK/B,UAAU,mBAAf,UACE,qBAAKA,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmBE,GAAG,4BAAtC,sEAEF,uBAAOD,KAAK,OAAOD,UAAU,eAAegC,aAAW,UAAUC,mBAAiB,4BAA4B9B,SAAUyB,KAAKH,WAC7H,qBAAKzB,UAAU,sBAAf,SACE,sBAAMA,UAAU,mBAAmBE,GAAG,4BAAtC,mEAEF,uBAAOD,KAAK,OAAOD,UAAU,eAAegC,aAAW,UAAUC,mBAAiB,4BAA4B9B,SAAUyB,KAAKD,gBAG/H,cAAC,oBAAD,CAAmBN,UAAWO,KAAKR,MAAMC,UAAzC,SACE,cAAC,QAAD,CAAOC,SAAUM,KAAKR,MAAME,SAAUC,MAAOK,KAAKR,MAAMG,MAAOC,KAAK,YAEtE,sH,GAvCUU,IAAMC,YA+CxBC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.0ed01504.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport Axios from 'axios';\nimport '../style/App.css';\n// import useCallback from 'react';\n// import { useDropzone } from 'react-dropzone'\n// import Project from './components/Project';\n// import Sector from './components/Sector'\n// import Image1 from './img/logo.png';\n\nfunction FileUpload() {\n  // ready for upload\n  const [imageReady, setImageReady] = useState(\"\");\n  // select the image\n  const [imageSelect, setImageSelected] = useState(\"\");\n  // parameter for uploading to Cloudinary\n  const uploadImage = () => {\n    const formData = new FormData();\n    formData.append(\"file\", imageSelect);\n    formData.append(\"upload_preset\", \"ugployuy\");\n    Axios.post(\n      'https://api.cloudinary.com/v1_1/pengushe-home/image/upload',\n      formData\n    ).then((response) => { window.alert(\"你文件已经传送到数据库里：）\") });\n  }\n  // // select the image in Dropzoon and upload to Cloudinary\n  // const onDrop = useCallback((acceptedFiles) => {\n  //   const formData = new FormData();\n  //   formData.append(\"file\", imageSelect);\n  //   formData.append(\"upload_preset\", \"ugployuy\");\n  //   Axios.post(\n  //     'https://api.cloudinary.com/v1_1/pengushe-home/image/upload',\n  //     formData\n  //   ).then((response) => { window.alert(\"你上传的文件已经传送到数据库里！\") });\n  // }, [])\n  // const { getRootProps, getInputProps} = useDropzone({\n  //   onDrop,\n  //   accept: \"image/*\",\n  //   multiple: true,\n  // });\n\n  return (\n    <div>\n      <h1 hidden>文件已经准备好上传，点击上传键</h1>\n      <div className=\"input-group\">\n        <div className=\"custom-file\">\n          <input type=\"file\" className=\"custom-file-input\" id=\"文件上传\"\n            onChange={(event) => {\n              setImageSelected(event.target.files[0]);\n              window.alert(\"文件已经准备好上传，点击上传键，如果想换一个图片上传，请先刷新界面\");\n            }}\n          />\n          <label className=\"custom-file-label\" htmlFor=\"文件上传\">选择文件</label>\n        </div>\n        <div className=\"input-group-append\">\n          <button className=\"btn btn-outline-secondary\" type=\"button\"\n            onClick={uploadImage}\n          >点击上传</button>\n        </div>\n      </div>\n      <div>\n      </div>\n    </div>\n  );\n  {/* <div className=\"form form-inline\">\n    <input type=\"file\" onChange={(event) => {\n      setImageSelected(event.target.files);\n    }} />\n    <button className=\"btn btn-primary btn-block\" onClick={uploadImage}>点击上传</button>\n  </div> */}\n  {/* <div\n    {...getRootProps()}\n    // className={`${styles.dropzone} ${isDragActive ? styles.active : null}`}\n  >\n    <input {...getInputProps()} />\n    <h1>Drop Zone</h1>\n  </div> */}\n}\n\nexport default FileUpload;\n","import React, { Component } from 'react';\nimport ReactDom from 'react-dom';\nimport { Image, Video, Transformation, CloudinaryContext } from 'cloudinary-react';\nimport FileUpload from './components/FileUpload';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cloudName: \"pengushe-home\",\n      publicId: 'sample',\n      width : '0.5',\n      crop : 'scale'\n    };\n    this.filterID = this.filterID.bind(this);\n    this.changWidth = this.changWidth.bind(this);\n\n  }\n  filterID(event){\n    this.setState({publicId: event.target.value});\n    event.preventDefault();\n  }\n  changWidth(event){\n    this.setState({width: event.target.value});\n    event.preventDefault();\n  }\n  render() {\n    return (\n      <div>\n        <FileUpload />\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">查看已经上传的图片</span>\n          </div>\n          <input type=\"text\" className=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\" onChange={this.filterID}/>\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">更改大小 0.5(%) 或者 200 px</span>\n          </div>\n          <input type=\"text\" className=\"form-control\" aria-label=\"Default\" aria-describedby=\"inputGroup-sizing-default\" onChange={this.changWidth}/>\n          \n        </div>\n        <CloudinaryContext cloudName={this.state.cloudName}>\n          <Image publicId={this.state.publicId} width={this.state.width} crop=\"scale\" />\n        </CloudinaryContext>\n        <p> 已经上传的图片\n          youyou2,donggua1,test1,test2,test3\n        </p>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}